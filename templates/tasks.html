{% extends 'base.html' %}

{% block title %}Your Tasks - Student To-Do App{% endblock %}

{% block content %}
<h2>Your Tasks</h2>

<!-- Task form -->
<form method="POST">
    {{ form.hidden_tag() }}
    <div class="form-group">
        <label for="title">Task Title</label>
        {{ form.title(class="form-control") }}
    </div>
    <div class="form-group">
        <label for="description">Task Description</label>
        {{ form.description(class="form-control") }}
    </div>
    <div class="form-group">
        <label for="category">Category</label>
        {{ form.category(class="form-control") }}
    </div>
    <div class="form-group">
        <label for="due_date">Due Date</label>
        {{ form.due_date(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.submit(class="btn btn-primary") }}
    </div>
</form>

<h3>Your Task List:</h3>
<ul>
{% for task in tasks %}
    <li>
        <strong>{{ task.title }}</strong> - {{ task.category }} (Due: {{ task.due_date }})
        <a href="{{ url_for('edit_task', task_id=task.id) }}">Edit</a> |
        <a href="{{ url_for('delete_task', task_id=task.id) }}" onclick="return confirm('Are you sure you want to delete this task?')">Delete</a>
    </li>
{% endfor %}
</ul>
{% endblock %}
